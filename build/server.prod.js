(()=>{var e={21:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>x,parse:()=>m,stringify:()=>f,v1:()=>h,v3:()=>w,v4:()=>P,v5:()=>b,validate:()=>l,version:()=>S});const r=require("crypto");var o=n.n(r);const s=new Uint8Array(256);let i=s.length;function c(){return i>s.length-16&&(o().randomFillSync(s),i=0),s.slice(i,i+=16)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&a.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const f=function(e,t=0){const n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};let p,d,y=0,g=0;const h=function(e,t,n){let r=t&&n||0;const o=t||new Array(16);let s=(e=e||{}).node||p,i=void 0!==e.clockseq?e.clockseq:d;if(null==s||null==i){const t=e.random||(e.rng||c)();null==s&&(s=p=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==i&&(i=d=16383&(t[6]<<8|t[7]))}let a=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:g+1;const u=a-y+(l-g)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||a>y)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=a,g=l,d=i,a+=122192928e5;const h=(1e4*(268435455&a)+l)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;const m=a/4294967296*1e4&268435455;o[r++]=m>>>8&255,o[r++]=255&m,o[r++]=m>>>24&15|16,o[r++]=m>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(let e=0;e<6;++e)o[r+e]=s[e];return t||f(o)},m=function(e){if(!l(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function v(e,t,n){function r(e,r,o,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let i=new Uint8Array(16+e.length);if(i.set(r),i.set(e,r.length),i=n(i),i[6]=15&i[6]|t,i[8]=63&i[8]|128,o){s=s||0;for(let e=0;e<16;++e)o[s+e]=i[e];return o}return f(i)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const w=v("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("md5").update(e).digest()})),P=function(e,t,n){const r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return f(r)},b=v("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("sha1").update(e).digest()})),x="00000000-0000-0000-0000-000000000000",S=function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},387:(e,t,n)=>{const{findAll:r,findById:o,create:s,update:i,remove:c}=n(537),a=n(54),l=n(110),u=n(929),f=n(874),p=n(140);e.exports={getPersons:async function(e,t){try{const e=await r();l(t,e)}catch(e){console.log(e)}},getPerson:async function(e,t,n){try{const e=await o(n);e?l(t,e):p(t)}catch(e){console.log(e)}},createPerson:async function(e,t){try{const n=await a(e),r=await s(JSON.parse(n));u(t,r)}catch(e){console.log(e)}},updatePerson:async function(e,t,n){try{if(await o(n)){const r=await a(e),o=JSON.parse(r),s=await i(n,o);l(t,s)}else p(t)}catch(e){console.log(e)}},removePerson:async function(e,t,n){try{await o(n)?(await c(n),f(t,n)):p(t)}catch(e){console.log(e)}}}},877:(e,t,n)=>{const r=n(685),{getPersons:o,getPerson:s,createPerson:i,removePerson:c,updatePerson:a}=n(387),l=n(89),u=n(870),f=n(140),p=r.createServer(((e,t)=>{if("/person"===e.url&&"GET"===e.method)o(e,t);else if(e.url.match(/\/person\/[^\s]+$/)&&"GET"===e.method){const n=e.url.split("/")[2];l(n)?s(e,t,n):u(t)}else if("/person"===e.url&&"POST"===e.method)i(e,t);else if(e.url.match(/\/person\/[^\s]+$/)&&"PUT"===e.method){const n=e.url.split("/")[2];l(n)?a(e,t,n):u(t)}else if(e.url.match(/\/person\/[^\s]+$/)&&"DELETE"===e.method){const n=e.url.split("/")[2];l(n)?c(e,t,n):u(t)}else f(t)}));e.exports=p},537:(e,t,n)=>{const{v4:r}=n(21);let o=[];e.exports={findAll:function(){return new Promise((e=>{e(o)}))},findById:function(e){return new Promise((t=>{t(o.find((t=>t.id===e)))}))},create:function(e){return new Promise((t=>{const n={...e,id:r()};o=[...o,n],t(n)}))},update:function(e,t){return new Promise((n=>{const r=o.findIndex((t=>t.id===e)),s={...o[r],...t};o=[...o.slice(0,r),s,...o.slice(r+1,o.length)],n(s)}))},remove:function(e){return new Promise((t=>{const n=o.findIndex((t=>t.id===e));o=[...o.slice(0,n),...o.slice(n+1,o.length)],t()}))}}},54:e=>{e.exports=function(e){return new Promise(((t,n)=>{try{let n="";e.on("data",(e=>{n+=e})),e.on("end",(()=>{t(n)}))}catch(e){n(e)}}))}},43:(e,t,n)=>{const r=n(17),o=n(147),s=/ \r\n|\n\r /;e.exports={config:function(){const e=r.resolve(process.cwd(),".env");try{const t=function(e){const t={};return e.toString().split(s).forEach((function(e,n){const r=e.split("=");if(r&&2==r.length){const e=r[0].trim(),n=r[1].trim();t[e]=n}else console.log(`invalide key value pair when parsing line ${n+1}`)})),t}(o.readFileSync(e,{encoding:"utf8"}));return Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty(process.env,e)?console.log(`${e} is already in \`process.env\``):process.env[e]=t[e]})),{parsed:t}}catch(e){return{error:e}}}}},89:e=>{e.exports=function(e){return e&&e.match(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i)}},110:e=>{e.exports=function(e,t){e.writeHead(200,{"Content-Type":"application/json"}),e.end(JSON.stringify(t))}},929:e=>{e.exports=function(e,t){e.writeHead(201,{"Content-Type":"application/json"}),e.end(JSON.stringify(t))}},874:e=>{e.exports=function(e,t){e.writeHead(204,{"Content-Type":"application/json"}),e.end()}},870:e=>{e.exports=function(e){e.writeHead(400,{"Content-Type":"application/json"}),e.end(JSON.stringify({message:"Invalidate parameter"}))}},140:e=>{e.exports=function(e){e.writeHead(404,{"Content-Type":"application/json"}),e.end(JSON.stringify({message:"Person not found"}))}},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(877);n(43).config();const t=process.env.PORT||5e3;e.listen(t,(()=>console.log(`Server running on port ${t}`)))})()})();